require 'gruff'

count = 0
(0..1000).step(2) do |idx|
  puts "#{count}, #{idx}"
  count += 1
end

def test_line_small_values
  @datasets = [
    [:wide, [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.033,0.114,0.0,0.0,0.0,0.282,0.117,0.032,0.19,0.272,0.362,0.366,0.319,0.208,0.149,0.319,0.114,0.309,0.085,0.289,0.256,0.239,0.222,0.197,0.18,0.315,0.142,0.117,0.095,0.464,0.043,0.397,0.292,0.109,0.369,0.467,0.12,0.23,0.193,0.298,0.264,0.208,0.301,0.236,0.339,0.3,0.319,0.329,0.345,0.342,0.359,0.379,0.388,0.388,0.412,0.322,0.397,0.35,0.404,0.403,0.394,0.421,0.375,0.373,0.367,0.354,0.329,0.326,0.322,0.288,0.286,0.29,0.248,0.221,0.308,0.193,0.483,0.459,0.103,0.055,0.497,0.412,0.344,0.513,0.173,0.111,0.138,0.165,0.192,0.218,0.243,0.262,0.291,0.315,0.337,0.464,0.371,0.396,0.413,0.428,0.442,0.454,0.465,0.49,0.481,0.487,0.318,0.492,0.492,0.49,0.486,0.486,0.472,0.614,0.664,0.463,0.47,0.413,0.482,0.379,0.462,0.311,0.371,0.681,0.255,0.233,0.519,0.171,0.417,0.098,0.068,0.034,0.154,0.074,0.269,0.561,0.578,0.222,0.362,0.715,0.446,0.366,0.8,0.434,0.845,0.497,0.527,0.556,0.582,0.607,0.63,0.839,0.869,0.686,0.858,0.712,0.554,0.728,0.732,0.784,0.831,0.731,0.719,0.718,0.706,1.125,0.661,0.739,0.609,0.596,0.575,1.16,0.575,1.302,0.417,0.86,0.922,1.328,1.682,0.181,0.148,1.134,0.306,0.724,1.188,1.691,0.343,1.031,0.506,1.114,0.655,0.735,0.815,0.897,0.979,1.06,1.143,2.217,1.307,1.389,1.76,1.545,1.793,1.709,1.787,2.505,2.434,2.009,2.079,2.148,2.214,2.267,2.388,2.398,2.454,2.507,2.548,2.604,2.648,2.688,2.725,2.759,2.788,2.815,2.837,2.856,2.87,2.883,2.89,2.894,2.894,2.89,2.894,2.894,2.89,2.882,2.874,2.868,2.854,2.833,2.789,2.781,2.763,2.687,2.683,2.623,2.6,2.553,2.485,2.441,2.392,2.325,2.252,2.458,2.136,2.444,1.951,1.853,1.931,2.357,2.07,2.318,1.809,1.446,1.42,1.765,1.215,1.766,1.017,1.869,2.023,0.801,1.056,0.687,1.112,0.485,2.05,0.773,0.721,0.421,0.975,1.226,1.7,1.407,0.363,1.33,0.302,1.786,0.673,0.422,0.462,0.921,0.533,0.792,0.592,0.616,0.636,0.657,0.673,0.685,0.695,0.694,0.705,0.706,0.705,0.718,0.705,0.696,0.822,0.657,0.926,0.636,0.65,0.6,0.599,0.629,0.509,0.5,0.472,0.903,0.848,0.593,1.014,0.313,0.437,0.41,0.569,0.144,0.983,0.095,0.669,0.238,0.874,0.716,0.118,0.353,0.388,0.485,0.215,0.889,0.266,0.736,0.432,0.332,0.352,0.369,0.374,0.398,0.41,0.42,0.428,0.433,0.445,0.453,0.444,0.444,0.436,0.451,0.437,0.431,0.527,0.404,0.404,0.393,0.38,0.353,0.346,0.329,0.557,0.277,0.263,0.379,0.423,0.222,0.189,0.187,0.144,0.109,0.589,0.137,0.342,0.439,0.409,0.047,0.286,0.109,0.352,0.285,0.155,0.174,0.192,0.21,0.478,0.242,0.491,0.27,0.279,0.292,0.338,0.424,0.317,0.322,0.327,0.33,0.332,0.357,0.284,0.38,0.325,0.324,0.314,0.411,0.305,0.302,0.288,0.47,0.299,0.53,0.228,0.218,0.198,0.193,0.177,0.165,0.146,0.13,0.206,0.268,0.441,0.38,0.034,0.032,0.442,0.037,0.055,0.556,0.088,0.432,0.122,0.138,0.153,0.167,0.267,0.193,0.204,0.311,0.218,0.234,0.242,0.249,0.255,0.256,0.329,0.344,0.268,0.268,0.268,0.266,0.264,0.26,0.274,0.249,0.302,0.399,0.367,0.226,0.214,0.367,0.187,0.256,0.22,0.159,0.309,0.367,0.12,0.149,0.09,0.319,0.061,0.26,0.228,0.163]],
    [:narrow, [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.145,0.0,0.2,0.0,0.239,0.224,0.0,0.069,0.085,0.158,0.046,0.049,0.041,0.186,0.198,0.215,0.308,0.078,0.298,0.266,0.127,0.208,0.238,0.253,0.394,0.188,0.21,0.18,0.411,0.093,0.397,0.0,0.285,0.307,0.502,0.19,0.213,0.275,0.299,0.429,0.397,0.405,0.381,0.363,0.472,0.387,0.364,0.34,0.342,0.301,0.301,0.185,0.172,0.141,0.239,0.3,0.171,0.101,0.308,0.395,0.232,0.281,0.317,0.332,0.388,0.481,0.407,0.469,0.289,0.391,0.41,0.383,0.383,0.417,0.293,0.36,0.486,0.182,0.111,0.476,0.416,0.344,0.468,0.167,0.211,0.256,0.283,0.346,0.38,0.411,0.424,0.445,0.459,0.386,0.552,0.442,0.524,0.398,0.405,0.35,0.281,0.656,0.215,0.644,0.545,0.559,0.379,0.65,0.216,0.238,0.456,0.744,0.392,0.433,0.467,0.531,0.513,0.525,0.495,0.643,0.517,0.488,0.809,0.419,0.401,0.635,0.322,0.507,0.202,0.121,0.06,0.132,0.145,0.283,0.578,0.447,0.412,0.468,0.525,0.648,0.593,0.617,0.633,0.755,0.634,0.604,0.652,0.793,0.517,0.571,0.401,0.375,0.939,0.253,0.664,0.16,0.847,0.258,0.275,0.697,0.443,1.069,0.717,0.669,0.726,0.821,0.809,0.956,0.845,0.843,0.817,0.968,1.06,0.751,1.119,1.057,1.113,1.635,0.324,0.255,1.164,0.306,0.66,1.278,1.57,0.66,1.346,0.902,1.009,1.106,1.189,1.256,1.307,1.34,1.352,1.346,1.313,1.311,1.26,1.159,1.43,0.955,1.876,0.702,1.749,0.967,2.188,2.261,1.133,3.353,2.026,3.652,4.001,2.365,2.687,3.006,3.32,3.625,3.919,4.2,4.464,4.719,4.933,5.135,5.311,5.465,5.584,5.678,5.742,5.776,5.78,5.78,5.77,5.712,5.661,5.526,5.46,5.279,5.082,4.93,4.689,4.68,4.869,3.786,3.617,4.049,2.897,3.425,2.347,2.029,1.673,3.017,3.505,3.399,3.299,0.524,1.776,3.383,2.169,0.806,0.951,1.972,1.174,1.25,1.302,1.326,1.47,1.394,1.314,1.242,1.175,1.145,1.091,1.246,0.832,1.815,1.023,0.751,0.547,1.076,1.267,1.7,1.395,0.362,1.38,0.54,1.594,0.826,0.739,0.797,1.082,0.821,0.9,0.884,0.805,0.863,0.746,0.785,0.802,1.294,1.094,0.497,0.343,0.399,1.324,1.291,0.093,0.433,0.308,0.568,0.383,0.531,0.787,1.033,0.749,0.583,0.683,0.606,0.6,0.586,0.562,0.757,0.491,0.478,0.44,0.688,0.268,0.919,0.156,0.693,0.212,0.874,0.691,0.206,0.273,0.503,0.375,0.389,0.799,0.45,0.513,0.581,0.485,0.518,0.608,0.475,0.452,0.676,0.407,0.421,0.802,0.46,0.688,0.165,0.476,0.757,0.405,0.108,0.708,0.636,0.429,0.667,0.325,0.353,0.376,0.392,0.403,0.407,0.404,0.396,0.395,0.403,0.351,0.331,0.267,0.259,0.219,0.63,0.209,0.386,0.457,0.394,0.093,0.278,0.178,0.412,0.25,0.279,0.305,0.325,0.339,0.424,0.353,0.351,0.344,0.329,0.318,0.3,0.281,0.43,0.211,0.199,0.148,0.339,0.299,0.056,0.062,0.081,0.12,0.268,0.188,0.485,0.47,0.269,0.287,0.299,0.309,0.312,0.311,0.351,0.304,0.278,0.258,0.241,0.22,0.174,0.192,0.446,0.358,0.071,0.046,0.444,0.073,0.108,0.548,0.169,0.467,0.221,0.242,0.258,0.27,0.278,0.281,0.28,0.281,0.319,0.268,0.233,0.259,0.263,0.296,0.286,0.167,0.069,0.185,0.063,0.164,0.15,0.378,0.127,0.157,0.334,0.201,0.22,0.419,0.267,0.253,0.256,0.255,0.25,0.25,0.242,0.267,0.209,0.193,0.146,0.344,0.119,0.285,0.24,0.173]],
    [:v_narrow, [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.145,0.0,0.0,0.316,0.0,0.0,0.0,0.171,0.0,0.08,0.0,0.025,0.0,0.208,0.205,0.0,0.1,0.037,0.101,0.225,0.0,0.09,0.145,0.268,0.166,0.141,0.349,0.273,0.428,0.077,0.033,0.397,0.285,0.275,0.238,0.437,0.162,0.136,0.242,0.37,0.318,0.229,0.144,0.379,0.178,0.365,0.214,0.262,0.342,0.374,0.299,0.138,0.332,0.259,0.15,0.296,0.212,0.192,0.319,0.217,0.375,0.371,0.363,0.407,0.294,0.3,0.335,0.19,0.051,0.154,0.555,0.265,0.378,0.362,0.447,0.404,0.364,0.295,0.199,0.406,0.416,0.344,0.43,0.29,0.371,0.401,0.414,0.414,0.482,0.352,0.532,0.35,0.293,0.328,0.277,0.273,0.351,0.424,0.459,0.47,0.475,0.591,0.405,0.713,0.488,0.559,0.379,0.647,0.341,0.423,0.508,0.526,0.629,0.46,0.397,0.431,0.42,0.139,0.136,0.194,0.31,0.415,0.491,0.537,0.549,0.52,0.471,0.45,0.384,0.181,0.114,0.144,0.271,0.403,0.498,0.568,0.583,0.597,0.554,0.476,0.366,0.554,0.231,0.154,0.367,0.373,0.505,0.601,0.658,0.668,0.675,0.649,0.941,0.432,0.614,0.176,0.847,0.361,0.511,0.927,0.717,0.733,0.769,0.98,0.627,0.719,0.805,0.516,0.106,0.517,0.729,0.68,0.811,0.894,0.921,1.162,0.891,1.301,0.609,0.458,1.164,0.306,0.533,1.405,1.153,1.068,1.144,1.169,1.082,1.548,1.05,0.674,0.457,0.843,0.786,0.821,2.237,1.35,1.508,1.768,1.545,1.565,1.467,1.077,1.541,1.075,2.162,2.493,1.497,2.634,2.267,3.293,2.604,2.6,4.55,3.257,2.232,2.458,0.493,3.459,8.02,4.01,5.286,6.546,7.743,9.437,9.787,10.558,11.123,11.461,11.56,11.56,11.433,11.036,10.555,10.611,8.762,7.732,6.365,5.159,3.936,4.241,3.031,4.116,1.258,5.142,2.284,2.528,2.652,2.504,2.502,2.252,3.631,2.692,3.569,0.524,1.729,3.382,2.216,1.412,1.539,1.567,1.497,1.546,1.692,1.108,1.134,0.476,0.763,0.466,1.313,0.93,1.067,1.21,1.128,1.136,1.359,1.091,0.664,1.243,1.267,1.738,1.462,0.651,1.222,0.874,0.982,0.874,0.853,0.745,0.573,0.633,0.743,1.346,0.805,0.461,0.6,0.695,0.744,0.772,0.757,0.615,0.612,0.479,1.284,1.278,0.17,0.434,0.458,0.559,0.619,0.766,0.629,0.596,0.6,0.364,0.299,0.727,1.049,0.219,1.035,0.751,0.523,0.562,0.566,0.599,0.469,0.723,0.322,0.684,0.212,0.874,0.789,0.358,0.438,0.618,0.509,0.514,0.496,0.383,0.729,0.243,0.387,0.812,0.187,0.279,0.363,0.423,0.621,0.46,0.651,0.437,0.548,0.26,0.559,0.77,0.374,0.21,0.664,0.484,0.411,0.537,0.414,0.388,0.606,0.32,0.223,0.105,0.42,0.148,0.635,0.307,0.358,0.386,0.477,0.401,0.326,0.607,0.213,0.405,0.457,0.363,0.18,0.254,0.311,0.427,0.364,0.356,0.327,0.4,0.275,0.265,0.085,0.55,0.129,0.203,0.267,0.334,0.434,0.34,0.322,0.296,0.285,0.319,0.338,0.08,0.082,0.158,0.223,0.274,0.305,0.434,0.345,0.29,0.255,0.481,0.185,0.202,0.077,0.215,0.177,0.237,0.277,0.299,0.353,0.281,0.295,0.438,0.313,0.143,0.078,0.444,0.141,0.2,0.491,0.274,0.316,0.282,0.309,0.253,0.211,0.32,0.224,0.109,0.414,0.231,0.214,0.25,0.27,0.274,0.269,0.234,0.235,0.158,0.203,0.053,0.15,0.128,0.347,0.223,0.249,0.262,0.344,0.333,0.235,0.182,0.148,0.09,0.167,0.2,0.146,0.356,0.228,0.247,0.25,0.23,0.351,0.17,0.266,0.258,0.19]]
  ]

  g = Gruff::Line.new
  g.title = 'Different bin widths'
  @datasets.each do |data|
#    g.theme = Gruff::Themes::THIRTYSEVEN_SIGNALS
  g.hide_dots = true
    g.data(data[0], data[1])
    g.labels = {0 => '0', 125 => '250', 250 => '500', 375 => '750', 500 => '1000'}
    end
  g.write('test/output/differing_bin_widths.png')

  g = Gruff::Line.new(400)
  g.title = 'Different bin widths'
#  g.theme = Gruff::Themes::THIRTYSEVEN_SIGNALS
  g.hide_dots = true
  @datasets.each do |data|
    g.data(data[0], data[1])
    g.labels = {0 => '0', 125 => '250', 250 => '500', 375 => '750', 500 => '1000'}
  end
  g.write('test/output/differing_bin_widths_small.png')

  g = Gruff::Line.new(1600)
  g.title = 'Different bin widths'
#  g.theme = Gruff::Themes::THIRTYSEVEN_SIGNALS
  g.hide_dots = true
  @datasets.each do |data|
    g.data(data[0], data[1])
    g.labels = {0 => '0', 125 => '250', 250 => '500', 375 => '750', 500 => '1000'}
  end
  g.write('test/output/differing_bin_widths_large.png')
end

test_line_small_values
