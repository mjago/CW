require 'gruff'

count = 0
(0..1000).step(8) do |idx|
  puts "#{count}, #{idx}"
  count += 1
end

def test_line_small_values
  @datasets = [
    [:wide, [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.112,0.288,0.365,0.272,0.313,0.142,0.061,0.167,0.219,0.302,0.337,0.39,0.405,0.39,0.39,0.312,0.288,0.354,0.27,0.462,0.218,0.315,0.641,0.455,0.487,0.489,0.461,0.461,0.402,0.702,0.623,0.073,0.451,0.362,0.498,0.607,0.686,0.728,0.712,0.748,0.671,1.177,0.432,0.233,0.977,0.576,0.897,1.225,1.538,2.088,2.546,2.398,2.604,2.758,2.856,2.894,2.894,2.89,2.85,2.764,2.546,2.374,2.102,1.831,1.752,1.211,1.887,0.568,0.698,0.87,0.422,0.564,0.683,0.701,0.701,0.7,0.869,0.656,0.88,0.565,0.414,0.424,0.188,0.29,0.368,0.42,0.443,0.438,0.429,0.514,0.351,0.276,0.189,0.389,0.36,0.547,0.242,0.471,0.322,0.332,0.321,0.319,0.288,0.237,0.177,0.158,0.237,0.106,0.167,0.215,0.38,0.413,0.266,0.25,0.301,0.214,0.281,0.215,0.062]],
    [:narrow, [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.385,0.267,0.321,0.246,0.272,0.087,0.191,0.25,0.369,0.375,0.272,0.119,0.241,0.375,0.419,0.37,0.324,0.27,0.395,0.38,0.424,0.453,0.281,0.573,0.463,0.392,0.513,0.596,0.562,0.629,0.145,0.412,0.586,0.634,0.556,0.516,0.678,0.44,0.726,0.845,0.845,0.729,0.388,0.977,1.01,1.307,1.313,1.241,0.951,2.313,3.813,3.32,4.463,5.325,5.742,5.742,5.729,5.304,4.458,4.101,2.027,3.256,0.952,1.302,1.365,1.345,0.974,0.698,1.058,0.739,0.822,1.224,0.682,0.464,1.211,0.677,0.602,0.671,0.499,0.545,0.473,0.349,0.469,0.47,0.723,0.292,0.609,0.244,0.598,0.405,0.379,0.331,0.476,0.291,0.42,0.352,0.336,0.24,0.199,0.12,0.247,0.309,0.29,0.223,0.188,0.219,0.197,0.27,0.274,0.212,0.25,0.079,0.155,0.235,0.255,0.249,0.232,0.118]],
    [:v_narrow, [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.385,0.328,0.32,0.138,0.461,0.124,0.039,0.141,0.233,0.407,0.23,0.264,0.263,0.329,0.266,0.383,0.352,0.321,0.395,0.4,0.406,0.341,0.455,0.548,0.341,0.501,0.333,0.31,0.55,0.538,0.281,0.601,0.649,0.319,0.659,0.523,0.733,0.712,0.707,0.769,0.811,0.94,0.632,0.977,1.082,1.022,1.118,1.538,1.53,2.081,2.603,2.571,2.758,7.909,11.123,11.123,11.04,7.693,2.668,4.383,2.543,3.41,1.541,1.491,1.109,1.067,1.155,1.109,1.058,1.074,0.736,0.704,0.701,0.701,1.061,0.717,0.559,0.345,0.651,0.56,0.549,0.509,0.559,0.261,0.456,0.431,0.529,0.396,0.402,0.243,0.358,0.326,0.559,0.312,0.463,0.28,0.358,0.322,0.296,0.223,0.315,0.515,0.207,0.303,0.291,0.258,0.288,0.18,0.18,0.324,0.259,0.112,0.25,0.277,0.199,0.286,0.24,0.203]]
  ]

  g = Gruff::Line.new
  g.title = 'Different bin widths'
  @datasets.each do |data|
    g.hide_dots = true
    g.data(data[0], data[1])
    g.labels = {0 => '0', 31 => '248', 62 => '498', 93 => '744', 124 => '992', 125 => nil}
    end
  g.write('test/output/differing_bin_widths.png')

  g = Gruff::Line.new(400)
  g.title = 'Different bin widths'
  g.hide_dots = true
  @datasets.each do |data|
    g.data(data[0], data[1])
    g.labels = {0 => '100'}
  end
  g.write('test/output/differing_bin_widths_small.png')
end

test_line_small_values
